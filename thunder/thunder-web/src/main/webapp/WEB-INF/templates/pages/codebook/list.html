<!--# 
layout("/layout/default.html",{"menu":["codebook","codebook_list"],"breadcrumbs":[{"name":"数据列表"}]}){ 
 #-->
<table class="table  table-hover general-table table-striped table-bordered">
	<thead>
		<tr>
			<th colspan="6">
				<div class="row">
					<div class="col-md-3 ">
						<form action="${base}/codebook/search" class="search-form">
							<div class="input-group">
								<span class="input-group-addon">选择分组</span> <select class="form-control" name="groupId" onchange="search(this)">
									<option value="0">全部分组</option>
									<optgroup label="-------------------">
										<!--# for(group in obj.data.groups) { #-->
										<option value="${group.id!}" ${obj.data.pager.paras != null && obj.data.pager.paras.groupId == group.id ?'selected' : ''}>${group.name!}</option>
										<!--# } #-->
									</optgroup>
								</select> <span class="input-group-addon" style="cursor: pointer;"><i class="fa fa-search"></i> GO</span>
							</div>
						</form>
					</div>
					<div class="col-md-2 col-md-offset-7">
						<!--# if(hasPermission('codebook.add')){ #-->
						<a href="${base}/codebook/add" class="btn btn-info btn-sm"><i class="fa fa-plus-circle"></i> 添加数据</a>
						<!--# } #-->
					</div>
				</div>
			</th>
		</tr>
		<tr>
			<th>ID</th>
			<th>名称</th>
			<th>值</th>
			<th>排序</th>
			<th>操作</th>
		</tr>
	</thead>
	<tbody>
		<!--# for(codebook in obj.data.pager.entities){ #-->
		<tr>
			<td>${codebook.id!}</td>
			<td>${codebook.name!}</td>
			<td>${codebook.description!}</td>
			<td class="center">
				<div class="hidden-sm hidden-xs btn-group">
					<!--# if(hasPermission('codebook.detail')){ #-->
					<a class="btn btn-xs btn-success" href="${base}/codebook/detail/${codebook.id!}"> <i class="ace-icon fa fa-check bigger-120"></i> 详情
					</a>
					<!--# } #-->
					<!--# if(hasPermission('codebook.edit')){ #-->
					<a class="btn btn-xs btn-info" href="${base}/codebook/edit/${codebook.id!}"> <i class="ace-icon fa fa-pencil bigger-120"></i> 编辑
					</a>
					<!--# } #-->
					<!--# if(hasPermission('codebook.delete')){ #-->
					<button class="btn btn-xs btn-danger btn-delete" data-url='/codebook/delete' data-id='${codebook.id!}'>
						<i class="ace-icon fa fa-trash-o bigger-120"></i> 删除
					</button>
					<!--# } #-->
				</div>
			</td>
		</tr>
		<!--#	} #-->
	</tbody>
	<tfoot>
		<!--# 
		if(obj.data.pager.entities.~size == 0){
		#-->
		<tr>
			<td colspan="6" class="null-pager">没有符合条件的数据</td>
		</tr>
		<!--#
		}else{
		#-->
		<tr>
			<td colspan="6">
				<div class="pull-right">${obj.data.pager.pagerBar!}</div>
			</td>
		</tr>
		<!--#
		}
	#-->
	</tfoot>
</table>
<script type="text/javascript">
	function search(dom) {
		if ($(dom).val() > 0) {
			location.href = getRootPath() + '/codebook/search?groupId=' + $(dom).val() ;	
		} else {
			location.href = getRootPath() + '/codebook/list' ;	
		}
	}
</script>
<!--# } #-->